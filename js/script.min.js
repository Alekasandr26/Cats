const goTopBtn=document.querySelector(".scroll_to_top");function trackScroll(){let e=document.documentElement.clientHeight,t=window.pageYOffset;t>e&&goTopBtn.classList.add("scroll_to_top-show"),t<e&&goTopBtn.classList.remove("scroll_to_top-show")}function backToTop(){window.pageYOffset>0&&(window.scrollBy(0,-80),setTimeout(backToTop,20))}window.addEventListener("scroll",trackScroll),goTopBtn.addEventListener("click",backToTop);const btnShowMenu=document.querySelector(".btn-show-menu"),menuMobile=document.querySelector(".menu__mobile");btnShowMenu.addEventListener("click",()=>{btnShowMenu.classList.toggle("active"),menuMobile.classList.toggle("active")});let $grid=$(".grid").isotope({itemSelector:".grid-item",layoutMode:"fitRows",fitRows:{gutter:".all-cats__gutter"},getSortData:{price:".price parseInt",age:".age parseInt",price:".price parseInt"}});$(".sort-by-button-group").on("click","button",(function(){let e=$(this).attr("data-sort-value");$grid.isotope({sortBy:e})}));let favorite=0;const like=document.querySelectorAll(".hearts");for(let e=0;e<like.length;e++)like[e].addEventListener("click",e=>{let t=e.target.parentElement.parentElement;return t.classList.toggle("active"),t.classList.contains("active")?favorite++:favorite--,alert("Избранные "+favorite)});let showMoreCatsBtn=document.querySelector(".btn-show-more"),hidden=[],hiddenCats=document.querySelectorAll(".all-cats__box.d-none");for(let e=0;e<hiddenCats.length;e++)hidden.push(hiddenCats[e]),showMoreCatsBtn.innerText=`Показать еще ${hidden.length-6} из ${hidden.length}`,0===hidden.length&&showMoreCatsBtn.classList.add("d-none"),showMoreCatsBtn.addEventListener("click",()=>{hidden.length,hidden[e].classList.remove("d-none")});const btnSendEmail=document.querySelector(".submin"),emailInput=document.querySelector(".email"),errorMessage=document.querySelector(".error-message"),checkbox=document.querySelector(".check"),mailformat=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;btnSendEmail.addEventListener("click",e=>""===emailInput.value?(errorMessage.innerText="Вы не заполнили Email",e.preventDefault()):emailInput.value.match(mailformat)?!(emailInput.value.match(mailformat)&&!checkbox.checked)||(errorMessage.innerText="Вы не подписались на новости",e.preventDefault()):(errorMessage.innerText="Введите Email правильно",e.preventDefault()));